<!DOCTYPE html>
<html lang="zh-Hans">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">

<link rel="stylesheet" href="/js/prism/prism.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"yoursite.com","root":"/","scheme":"Pisces","version":"7.7.2","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":true,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="# 本文收获与价值 完成代码后您将收获以下界面：">
<meta property="og:type" content="article">
<meta property="og:title" content="Flutter中使用精灵图">
<meta property="og:url" content="http://yoursite.com/2020/04/12/flutter%E4%BD%BF%E7%94%A8%E7%B2%BE%E7%81%B5%E5%9B%BE(sprites)/index.html">
<meta property="og:site_name" content="欢迎来到CodingKun的博客">
<meta property="og:description" content="# 本文收获与价值 完成代码后您将收获以下界面：">
<meta property="og:image" content="https://github.com/gitKun/ctrip_gird_demo/blob/master/screenshort/sprites_completed.png?raw=true">
<meta property="og:image" content="https://github.com/gitKun/ctrip_gird_demo/blob/master/images/un_ico_subnav.png?raw=true">
<meta property="og:image" content="https://github.com/gitKun/ctrip_gird_demo/blob/master/screenshort/sprites_test_show.png?raw=true">
<meta property="og:image" content="https://github.com/gitKun/ctrip_gird_demo/blob/master/screenshort/sprites_complet_new.png?raw=true">
<meta property="article:published_time" content="2020-04-12T09:34:16.000Z">
<meta property="article:modified_time" content="2020-04-25T07:20:23.515Z">
<meta property="article:author" content="CodingKun">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://github.com/gitKun/ctrip_gird_demo/blob/master/screenshort/sprites_completed.png?raw=true">

<link rel="canonical" href="http://yoursite.com/2020/04/12/flutter%E4%BD%BF%E7%94%A8%E7%B2%BE%E7%81%B5%E5%9B%BE(sprites)/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-Hans'
  };
</script>

  <title>Flutter中使用精灵图 | 欢迎来到CodingKun的博客</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <div>
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">欢迎来到CodingKun的博客</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
        <p class="site-subtitle">SwiftUI, Flutter...</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-fw fa-home"></i>Home</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>Archives</a>

  </li>
  </ul>

</nav>
</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content">
            

  <div class="posts-expand">
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block " lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/04/12/flutter%E4%BD%BF%E7%94%A8%E7%B2%BE%E7%81%B5%E5%9B%BE(sprites)/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="CodingKun">
      <meta itemprop="description" content="喜欢新技术，为了更好地自己努力工作！">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="欢迎来到CodingKun的博客">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Flutter中使用精灵图
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-04-12 17:34:16" itemprop="dateCreated datePublished" datetime="2020-04-12T17:34:16+08:00">2020-04-12</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-04-25 15:20:23" itemprop="dateModified" datetime="2020-04-25T15:20:23+08:00">2020-04-25</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Flutter/" itemprop="url" rel="index"><span itemprop="name">Flutter</span></a>
                </span>
            </span>

          
            <span class="post-meta-item" title="Views" id="busuanzi_container_page_pv" style="display: none;">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">Views: </span>
              <span id="busuanzi_value_page_pv"></span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h3 id="本文收获与价值"><a href="#本文收获与价值" class="headerlink" title="# 本文收获与价值"></a># 本文收获与价值</h3><ol>
<li><p>完成代码后您将收获以下界面：</p>
 <img width=375 src="https://github.com/gitKun/ctrip_gird_demo/blob/master/screenshort/sprites_completed.png?raw=true" />

<a id="more"></a>
</li>
<li><p>本文涉及到的知识点：</p>
<ul>
<li><p><code>FutureBuilder</code>;</p>
</li>
<li><p><code>CustomPaint</code> 与 <code>CustomPainter</code>;</p>
</li>
<li><p><code>canvas.drawImageRect</code>,<code>ImageStream</code>等;</p>
<p>最终你将能够吧下面的精灵图按需展示：</p>
<img width=58 src="https://github.com/gitKun/ctrip_gird_demo/blob/master/images/un_ico_subnav.png?raw=true">

</li>
</ul>
</li>
</ol>
<h3 id="准备工作"><a href="#准备工作" class="headerlink" title="# 准备工作"></a># 准备工作</h3><p><strong>备注：</strong>本人的写作方式决定这并不是一篇可以直接直接阅读就能获取到全部代码的文章，偏向于鼓励您能实际动手操练一下。</p>
<p>本文是在前作<a href="https://gitkun.github.io/2020/04/10/Flutter%E5%AE%9E%E7%8E%B0%E6%90%BA%E7%A8%8BGirdNav%E5%B8%83%E5%B1%80_hotel%E5%B8%83%E5%B1%80/" target="_blank" rel="noopener">手把手教你实现携程GridNav布局-hotel布局</a>的代码基础上进行的，当然您也可以重开一个项目，即将要做的事情和前文并无关联性，好的让我们开始吧；</p>
<h5 id="必备条件"><a href="#必备条件" class="headerlink" title="必备条件"></a>必备条件</h5><ol>
<li><p>已有的<code>ctrip_gird_demo</code>工程(或者新建一个工程)； </p>
</li>
<li><p><a href="http://pic.c-ctrip.com/platform/h5/home/un_ico_subnav2x@v7.152.png" target="_blank" rel="noopener">精灵图下载地址</a>;</p>
<p> 如果失效请在<a href="https://github.com/gitKun/ctrip_gird_demo/blob/master/images/un_ico_subnav.png" target="_blank" rel="noopener">git仓库</a>中下载;</p>
</li>
</ol>
<h5 id="添加-sub-nav-和相关资源"><a href="#添加-sub-nav-和相关资源" class="headerlink" title="添加 sub_nav 和相关资源"></a>添加 sub_nav 和相关资源</h5><ol>
<li><p>在 <code>lib</code> 同目录下新建 <code>images</code> 目录，并将下载的精灵图改名为 <code>un_ico_subnav.png</code> 后放入 <code>images</code> ;</p>
</li>
<li><p>在 <code>lib</code> 目录下新建 <code>sub_nav</code> 文件夹，在 <code>sub_nav</code> 目录下新建 <code>sub_nav_widget.dart</code> 和 <code>sub_nav_sprites_image.dart</code> 文件;</p>
</li>
<li><p>在 <code>pubspec.yaml</code> 中添加资源依赖:</p>
<pre><code class="line-numbers language-dart"> assets:
   - images/un_ico_subnav.png</code></pre>
<p> 然后 <code>cmd</code> + <code>s</code>, <code>VSCode</code> 将会运行 <code>flutter packages get</code> 命令;</p>
</li>
</ol>
<h3 id="代码部分"><a href="#代码部分" class="headerlink" title="# 代码部分"></a># 代码部分</h3><p>在 <code>flutter</code> 要想精确的自己控制图片的显示效果，必须借助于 <code>dart:ui</code> 提供的 <code>ui.Canvas</code> 来进行自定义的绘制操作，常用方法为 <code>void drawImageRect(Image image, Rect src, Rect dst, Paint paint) {}</code> , 这里的 <code>Image</code> 为 <code>ui.Image</code> 类型； 而我们在 <code>Flutter</code> 层使用的 <code>Image</code> 需要先转换为 <code>ImageStream</code> 类型，然后后通过其 <code>addlistener()</code>方法，添加 <code>ImageStreamListener</code> 类型的实例，之后在 <code>ImageStreamListener</code> 实例的完成的回调中通过回调函数中 <code>ImageInfo</code> 的 <code>image</code> 属性获得 <code>Canvas</code> 绘制时需要的 <code>ui.Image</code>;( <code>iOS</code> 的 <code>UIImage</code> 与 <code>CGImage</code> ？)</p>
<ol>
<li><p>在 <code>sub_nav_sprites_image.dart</code> 中添加如下代码</p>
<pre><code class="line-numbers language-dart"> import &#39;package:flutter/material.dart&#39;;

 class SubNavSpritesImage extends StatefulWidget {
   final int showIndex;
   final ui.Image img;

   SubNavSpritesImage({
     Key key,
     @required this.showIndex,
     @required this.img,
   }) : super(key: key);

   @override
   _SubNavSpritesImageState createState() =&gt; _SubNavSpritesImageState();
 }

 class _SubNavSpritesImageState extends State&lt;SubNavSpritesImage&gt; {
   @override
   Widget build(BuildContext context) {
     return Container(
       width: 28,
       height: 28,
       // todo: add customPaint
     );
   }
 }</code></pre>
<p> 这里我们先不急着去实现自定义绘制，让我们先获取 <code>ui.Image</code>;</p>
</li>
<li><p>在 <code>sub_nav_widget.dart</code> 中添加如下代码：</p>
<pre><code class="line-numbers language-dart"> import &#39;package:flutter/material.dart&#39;;
 import &#39;package:ctrip_gird_demo/sub_nav/sub_nav_sprites_image.dart&#39;;
 import &#39;dart:ui&#39; as ui;
 import &#39;dart:async&#39;;// show Completer

 class SubNavWidget extends StatelessWidget {

   // 图标对应的名称 
   final List&lt;String&gt; _names = [
     &#39;自由行&#39;,
     &#39;Wifi电话本&#39;,
     &#39;保险·签证&#39;,
     &#39;换钞·购物&#39;,
     &#39;当地向导&#39;,
     &#39;特价机票&#39;,
     &#39;礼品卡&#39;,
     &#39;申卡·借钱&#39;,
     &#39;旅拍&#39;,
     &#39;更多&#39;,
   ];

   // 每行的个数 
   // todo: modify 5
   final int _rowItemsNum = 5;

   @override
   Widget build(BuildContext context) {
     return FutureBuilder&lt;ui.Image&gt;(
       future: _loadSubNavImageByProvider(
         AssetImage(&#39;images/un_ico_subnav.png&#39;),
       ),
       builder: (context, snapshot) {
         return Container(
             // todo: show SubNavSpritesImage
         );
       },
     );
   }

   // todo: reader ui.Image
   Future&lt;ui.Image&gt; _loadSubNavImageByProvider(
     ImageProvider provider, {
     ImageConfiguration config = ImageConfiguration.empty,
   }) async {
     return null;
   }
</code></pre>
<p> 现在，让我们开始通过 <code>AssetImage</code> 来获取 <code>ui.Image</code>，如果您有疑问的话可以按住 <code>cmd</code> 点击 <code>ImageProvider</code> 然后往上翻，查看官方给出的例子； </p>
</li>
<li><p>将 <code>// todo: reader ui.Image</code> 替换为如下代码：</p>
<pre><code class="line-numbers language-dart"> Future&lt;ui.Image&gt; _loadSubNavImageByProvider(
   ImageProvider provider, {
   ImageConfiguration config = ImageConfiguration.empty,
 }) async {
   // 异步 需要导入 `dart:async`
   Completer&lt;ui.Image&gt; completer = Completer&lt;ui.Image&gt;(); //完成的回调
   ImageStream stream = provider.resolve(config); //获取图片流
   ImageStreamListener listener;// 先声明
   // 生成一个监听对象，只关心完成的回调，忽略 onError 回调
   listener = ImageStreamListener(
     (ImageInfo frame, bool sync) {
       // 完成后通过 frame 获取到 ui.Image
       final ui.Image image = frame.image;
       completer.complete(image); //完成
       stream.removeListener(listener); //移除监听
     },
     // node: ignore `onError` and `onChunk`.
   );
   stream.addListener(listener); //添加监听
   return completer.future;
 }</code></pre>
</li>
<li><p>将 <code>// todo: show SubNavSpritesImage</code> 替换为：</p>
<pre><code class="line-numbers language-dart"> // todo: modify column
 alignment: Alignment.center,
 child: SubNavSpritesImage(
   showIndex: 2,
   img: snapshot.data,
 ),</code></pre>
</li>
<li><p>在 <code>sub_nav_sprites_image.dart</code> 中增加自定义绘制的代码：</p>
<pre><code class="line-numbers language-dart"> lass _SpritesPainter extends CustomPainter {

   final ui.Image _img; // 图片
   Paint mainPaint;

   int _showIndex = 0;

   _SpritesPainter(
     this._img, {
     @required int showIndex,
   }) {
     this._showIndex = showIndex;
     mainPaint = Paint();
   }

   @override
   void paint(ui.Canvas canvas, ui.Size size) {
     Rect rect = Offset(0, 0) &amp; size;
     // 裁剪绘制区域
     canvas.clipRect(rect);
     if (_img != null) {
       double showSize = _img.width.toDouble();
       // 计算将要显示的区域
       Rect src = Rect.fromLTRB(
         0,
         _showIndex * showSize,
         showSize,
         (_showIndex + 1) * showSize,
       );
       // src: _img将要显示的区域, rect: _img将要显示的区域实际被绘制的区域
       canvas.drawImageRect(_img, src, rect, mainPaint);
     }
   }

   @override
   bool shouldRepaint(CustomPainter oldDelegate) {
     if (oldDelegate is _SpritesPainter) {
       _SpritesPainter oldPainter = oldDelegate;
       if (oldPainter._showIndex != this._showIndex ||
           oldPainter.mainPaint != this.mainPaint) {
         return true;
       }
     }
     return false;
   }
 }</code></pre>
<p> 如上,我们自定义了一个 <code>_SpritesPainter</code> 用来绘制<code>ui.Image</code>指定的区域；</p>
</li>
<li><p>将 <code>// todo: add customPaint</code> 替换为如下代码：</p>
<pre><code class="line-numbers language-dart"> child: CustomPaint(
   painter: _SpritesPainter(
     widget.img,
     showIndex: widget.showIndex,
   ),
 ),</code></pre>
</li>
<li><p>添加到 <code>main.dart</code>，在 <code>main.dart</code> 中将如下代码，添加到 <code>GridWidget()</code> 下方</p>
<pre><code class="line-numbers language-dart"> Container(
   margin: EdgeInsets.fromLTRB(16, 10, 16, 0),
   child: SubNavWidget(),
 ),</code></pre>
<p> 然后 <code>cmd</code> + <code>s</code> 后，<code>F5</code> 调试，您将看到如下界面：</p>
 <img width=375 src="https://github.com/gitKun/ctrip_gird_demo/blob/master/screenshort/sprites_test_show.png?raw=true">

<p> 试着更改 <code>sub_nav_widget.dart</code> 中传入的 <code>showIndex</code> ，你将看到不同的图标被绘制；</p>
</li>
<li><p>好了让我们回到 <code>sub_nav_widget.dart</code> 添加如下布局代码：</p>
<pre><code class="line-numbers language-dart"> Widget _nomalItemExpanded(index, ui.Image img) {
   return Expanded(
     child: _itemContainer(index, img),
     flex: 1,
   );
 }

 Widget _itemExpandedWithNew(index, ui.Image img) {
   return Expanded(
     flex: 1,
     child: Stack(
       alignment: Alignment.center,
       children: &lt;Widget&gt;[
         _itemContainer(index, img),
         _newTagText(),
       ],
     ),
   );
 }

 Widget _newTagText() {
   return Positioned(
     top: 0,
     child: Container(
       padding: EdgeInsets.fromLTRB(4, 0, 4, 0),
       decoration: BoxDecoration(
         gradient:
             LinearGradient(colors: [Color(0xfff94242), Color(0xffffa25f)]),
         borderRadius: BorderRadius.circular(8),
       ),
       child: Text(
         &#39;NEW&#39;,
         style: TextStyle(
           color: Colors.white,
           fontSize: 10,
         ),
       ),
     ),
   );
 }

 Widget _itemContainer(index, ui.Image img) {
   return Container(
     height: 55,
     child: Column(
       children: &lt;Widget&gt;[
         SubNavSpritesImage(
           showIndex: index,
           img: img,
         ),
         Text(
           _names[index],
           style: TextStyle(
             color: Color(0xff222222),
             fontSize: 11,
           ),
         ),
       ],
     ),
   );
 }

 List&lt;Widget&gt; _rowContentList(int rowIdx, ui.Image img) {
   return List&lt;int&gt;.generate(_rowItemsNum, (i) =&gt; i + rowIdx * _rowItemsNum)
       .map((idx) {
     if (idx == 8) {
       return _itemExpandedWithNew(idx, img);
     }
     return _nomalItemExpanded(idx, img);
   }).toList();
 }

 Widget _rowItemContent(int rowIdx, ui.Image img) {
   if ((rowIdx + 1) * _rowItemsNum &gt; _names.length) {
     return null;
   }
   return Row(
     mainAxisAlignment: MainAxisAlignment.spaceBetween,
     children: _rowContentList(rowIdx, img),
   );
 }</code></pre>
</li>
<li><p>如上，代码逻辑很简单这里不做过多解释，然后将 <code>// todo: modify column</code> 替换为：</p>
<pre><code class="line-numbers language-dart"> return Column(
   children: &lt;Widget&gt;[
     _rowItemContent(0, snapshot.data),
     _rowItemContent(1, snapshot.data),
   ],
 );</code></pre>
<p> <code>cmd</code> + <code>s</code> 热更新后你将看到最终的效果：</p>
 <img width=375 src="https://github.com/gitKun/ctrip_gird_demo/blob/master/screenshort/sprites_complet_new.png?raw=true">


</li>
</ol>
<p>感谢您的阅读。</p>
<h3 id="彩蛋"><a href="#彩蛋" class="headerlink" title="# 彩蛋"></a># 彩蛋</h3><p>最终我找到了降低<code>Android Studio</code>对<code>CPU</code>占用的办法(虽然现在<code>CPU</code>温度还在<code>67°</code>左右徘徊😅),详见:<a href="https://stackoverflow.com/questions/19986498/android-studio-using-100-cpu-at-all-times-no-background-processes-appear-to" target="_blank" rel="noopener">万能的stackoverflow</a>。</p>
<blockquote>
<p>Go to: Preferences &gt; Version Control &gt; Background. Now listed under ‘Background Operations’ are 6 options. I disabled the first three options which are:</p>
<p>Perform update on VCS in background, Perform commit to VCS in background, Perform checkout to VCS in background.</p>
</blockquote>

    </div>

    
    
    

      <footer class="post-footer">

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2020/04/10/Flutter%E5%AE%9E%E7%8E%B0%E6%90%BA%E7%A8%8BGirdNav%E5%B8%83%E5%B1%80_hotel%E5%B8%83%E5%B1%80/" rel="prev" title="手把手教你实现携程GridNav布局-hotel布局">
      <i class="fa fa-chevron-left"></i> 手把手教你实现携程GridNav布局-hotel布局
    </a></div>
      <div class="post-nav-item">
    <a href="/2020/04/20/%E5%9C%A8Flutter%E4%B8%AD%E5%AE%9E%E7%8E%B0%E8%B0%B7%E6%AD%8C%E7%81%AD%E9%9C%B8%E5%BD%A9%E8%9B%8B/" rel="next" title="Flutter中使用精灵图">
      Flutter中使用精灵图 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  

  </div>


          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#本文收获与价值"><span class="nav-number">1.</span> <span class="nav-text"># 本文收获与价值</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#准备工作"><span class="nav-number">2.</span> <span class="nav-text"># 准备工作</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#必备条件"><span class="nav-number">2.0.1.</span> <span class="nav-text">必备条件</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#添加-sub-nav-和相关资源"><span class="nav-number">2.0.2.</span> <span class="nav-text">添加 sub_nav 和相关资源</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#代码部分"><span class="nav-number">3.</span> <span class="nav-text"># 代码部分</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#彩蛋"><span class="nav-number">4.</span> <span class="nav-text"># 彩蛋</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">CodingKun</p>
  <div class="site-description" itemprop="description">喜欢新技术，为了更好地自己努力工作！</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">8</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
        <span class="site-state-item-count">3</span>
        <span class="site-state-item-name">categories</span>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">CodingKun</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> v4.2.0
  </div>

<script src="/js/prism/prism.js" async></script>

        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      访客数<span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="Total Visitors">
        <span id="busuanzi_value_site_uv"></span>
      </span>人数
    </span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      总访问量<span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="Total Views">
        <span id="busuanzi_value_site_pv"></span>
      </span>次
    </span>
</div>








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/medium-zoom@1/dist/medium-zoom.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
